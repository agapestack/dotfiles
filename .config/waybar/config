{
  // -------------------------------------------------------------------------
  // Global configuration
  // -------------------------------------------------------------------------

  "layer": "top",

  "position": "top",

  "modules-left": [
    "sway/workspaces",
    "sway/mode",
    "memory",
    "cpu",
    "temperature",
    "network",
  ],
  "modules-center": [
    "sway/window",
  ],
  "modules-right": [
//    "custom/vlc",
    "custom/spotify",
    "backlight",
    "bluetooth",
    "wireplumber",
    "custom/keyboard-layout",
    "battery",
    "clock#date",
    "clock#time"
  ],


  // -------------------------------------------------------------------------
  // Modules
  // -------------------------------------------------------------------------
  "sway/window": {
      "format": "{title}",
      "max-length": 120,
      "all-outputs" : true,
      "offscreen-css" : true,
      "offscreen-css-text": "(inactive)",
      "rewrite": {
         "(.*)Firefox(.*)": "<span font='8'> </span>  $1",
         "(.*)nvim(.*)": "<span font='10'></span>   $2",
         "Spotify": "<span font='8'></span>   Spotify",
         "(.*)@(.*):(.*)": "<span font='10'></span>     $3",
         "(.*) - Discord": "<span font='8'></span>  $1",
         "(.*) - Mozilla Thunderbird": "<span font='8'>  </span> $1"
      }
  },

  "sway/workspaces": {
      "all-outputs": false,
      "disable-scroll": true,
      "format": "{name}",
  },

  "sway/mode": {
    "format": "<span style=\"italic\">  {}</span>", // Icon: expand-arrows-alt
  },

  "memory": {
    "interval": 5,
    "format": "  {}%", // Icon: memory
    "states": {
      "warning": 70,
      "critical": 90
    }
  },

  "cpu": {
    "interval": 5,
    "format": "   {usage}% ({load})", // Icon: microchip
    "states": {
      "warning": 70,
      "critical": 90
    }
  },

  "network": {
    "interval": 5,
    // "format-wifi": "  {essid} ({signalStrength}%)     {bandwidthDownOctets}      {bandwidthUpOctets}", // Icon: wifi
    "format-wifi": "  {essid} ({signalStrength}%)", // Icon: wifi
    // "format-ethernet": "  {ifname}: {ipaddr}/{cidr}    {bandwidthDownOctets}      {bandwidthUpOctets}", // Icon: ethernet
    "format-ethernet": "  {ifname}: {ipaddr}/{cidr}", // Icon: ethernet

    "format-disconnected": "⚠  Disconnected",
    "tooltip-format": "{ifname}: {ipaddr}"
  },

  "custom/vlc": {
    "exec": "/usr/bin/python3 $HOME/.config/waybar/mediaplayer.py --player vlc",
    "format": "󰕼  {}",
    "return-type": "json",
    "on-click": "playerctl --player=vlc play-pause",
  },

  "custom/spotify": {
    "exec": "/usr/bin/python3 $HOME/.config/waybar/mediaplayer.py --player spotify",
    "format": " {}",
    "return-type": "json",
    "on-click": "playerctl --player=spotify play-pause",
    "on-scroll-up": "playerctl --player=spotify next",
    "on-scroll-down": "playerctl --player=spotify previous"
  },

  "wireplumber": {
    "format": "{icon}  {volume}%",
    "format-muted": "",
    "on-click": "helvum",
    "format-icons": ["", "", ""]
  },

  "bluetooth": {
    "format": " {status}",
    "format-disabled": "", // an empty format will hide the module
    "format-connected": " {num_connections} ",
    "tooltip-format": "{controller_alias}\t{controller_address}",
    "tooltip-format-connected": "{controller_alias}\t{controller_address}\n\n{device_enumerate}",
    "tooltip-format-enumerate-connected": "{device_alias}\t{device_address}",
    "on-click": "helvum"
  },

  "custom/keyboard-layout": {
    "exec": "swaymsg -t get_inputs | grep -m1 'xkb_active_layout_name' | cut -d '\"' -f4",
    "interval": 30,
    "format": "{}",
  },

  "battery": {
    "interval": 10,
    "states": {
      "warning": 30,
      "critical": 15
    },
    "format": " {icon}",
    "format-discharging": "{icon}",
    "format-icons": ["", "", "", "", ""]
  },

  "temperature": {
    "critical-threshold": 80,
    "interval": 5,
    "format": "{icon} {temperatureC}°C",
    "format-icons": [
      "", // Icon: temperature-empty
      "", // Icon: temperature-quarter
      "", // Icon: temperature-half
      "", // Icon: temperature-three-quarters
      ""  // Icon: temperature-full
    ],
    "tooltip": true
  },

  "clock#date": {
    "interval": 10,
    "format": "{:   %e %b %Y}", // Icon: calendar-alt
    "tooltip-format": "<tt><small>{calendar}</small></tt>",
    "calendar": {
      "mode"          : "year",
      "mode-mon-col"  : 3,
      "weeks-pos"     : "right",
      "on-scroll"     : 1,
      "on-click-right": "mode",
      "format": {
        "months":     "<span color='#ffead3'><b>{}</b></span>",
        "days":       "<span color='#ecc6d9'><b>{}</b></span>",
        "weeks":      "<span color='#99ffdd'><b>W{}</b></span>",
        "weekdays":   "<span color='#ffcc66'><b>{}</b></span>",
        "today":      "<span color='#ff6699'><b><u>{}</u></b></span>"
        }
      },
  },

  "clock#time": {
    "interval": 1,
    "format": "{:  %H:%M}",
    "tooltip": false
  },

  "backlight": {
    "device": "intel_backlight",
    "format": "{icon}  {percent}%",
    "format-icons": ["", "", "", "", "", "", "", "", ""]
  }
}
